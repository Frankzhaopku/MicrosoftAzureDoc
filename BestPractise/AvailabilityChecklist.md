#可用性清单
===

## 应用设计
---
* **避免所有的[单点故障](https://en.wikipedia.org/wiki/Single_point_of_failure)** 所有的组件、服务、资源和计算实例都应该以多例方式部署，以避免因单点故障导致而导致可用性受到影响。这也包括了用户登录机制。将应用设计为可配置多例部署、自动检测实例故障并将请求重定向到非故障实例上，一般平台都不会自动实现这个机制。
* **为每一个[SLA](https://en.wikipedia.org/wiki/End-user_license_agreement)分解负载** 若一个系统由高负载服务和非高负载服务组成，应该根据服务各自的特点来分别管理，配置不同数量的实例使得其各自可以达到可用性指标要求。
* **最小化并了解服务依赖** 尽可能减少使用的服务，并确保你完全了解系统中使用的服务的特性与依赖关系。包括这些依赖的特点以及每一个依赖的故障或性能损失对整个应用的影响。Microsoft对于大多数服务都保证了至少99.9%的可用性，但是这表示你的应用每多使用一个依赖服务会导致系统在可用性上有0.1%故障的可能性积累。
* **将任务和消息设计为[幂等](https://en.wikipedia.org/wiki/Idempotence)的** 这样的话重复请求并不会导致问题。例如，一个服务作为消费者角色处理由其他作为生产者角色发出的请求消息。当消费者服务在处理消息但没来得及确认返回时发生了故障，那么生产者很可能会再次发送请求，该请求将可能被另一个消费者服务接到。因此消费者服务应该对于重复操作有幂等性，这样不会因为重复执行之前的操作而导致非法结果。这意味着使用重复消息检测或使用乐观控制保证一致性的方法来解决冲突。
* **